var domIsReady=function(o){const t=function(){return document.attachEvent&&"undefined"!==typeof document.attachEvent?"ie":"not-ie"};return o=function(o){o&&"function"===typeof o?"ie"!==t()?document.addEventListener("DOMContentLoaded",(function(){return o()})):document.attachEvent("onreadystatechange",(function(){if("complete"===document.readyState)return o()})):console.error("The callback is not a function!")},o}(domIsReady||{});const MOBILE_WIDTH=767;let CURRENT_SPOT_SERIE_IDX=5;function get_crypto_from_url(){const o=window.location,t="file:"===o.protocol,e=t?o.href:o.pathname;if("/chart"===e)return BTC;for(const r of CRYPTO_CURRENCIES){let o=r.name.toLowerCase();if(o=o.split(" "),o=o.join("-"),o=o.concat("-price"),-1!==e.search(o))return r}return BTC}const run=async()=>{const o=get_crypto_from_url(),t=[{offset:"0%",color:o.color},{offset:"12.5%",color:o.color},{offset:"20%",color:o.color},{offset:"25%",color:o.color},{offset:"30%",color:o.color},{offset:"50%",color:o.color},{offset:"60%",color:o.color},{offset:"70%",color:o.color},{offset:"75%",color:o.color},{offset:"80%",color:o.color},{offset:"87.5%",color:o.color},{offset:"100%",color:o.color}],e=["1 day","7 days","1 month","3 months","1 year","all"],r=["24h","7d","1m","3m","1y","all"],n={top:50,right:20,bottom:50,left:20},c=screen.width,a=screen.height,l=document.getElementById("series_selector"),f=l.getElementsByTagName("a");c>MOBILE_WIDTH?[...f].forEach((o,t)=>o.innerHTML=e[t]):[...f].forEach((o,t)=>o.innerHTML=r[t]);const i=await data_provider(o.id,c,a);document.getElementById("chart-loader").remove();const s=new SpotChart("crypto-chart",n,t,o.show_fiat_decimals);if(l.childElementCount!=i.length)throw"Number of button and series does not match";let d;function m(){document.getElementById("crypto-chart").firstElementChild.remove(),i.forEach((t,e)=>f[e].onclick=()=>{CURRENT_SPOT_SERIE_IDX=e,o.draw(t)});const o=new SpotChart("crypto-chart",n,t);o.draw(i[CURRENT_SPOT_SERIE_IDX])}i.forEach((o,t)=>f[t].onclick=()=>{CURRENT_SPOT_SERIE_IDX=t,s.draw(o)}),s.draw(i[CURRENT_SPOT_SERIE_IDX]),window.onresize=()=>{clearTimeout(d),d=setTimeout(m,25)}};(function(o,t,e,r){e(run)})(document,window,domIsReady);
